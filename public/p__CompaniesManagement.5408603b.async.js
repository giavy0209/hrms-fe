(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{DqPk:function(e,t,a){e.exports={tableContainer:"tableContainer___25lIR",tabComponent:"tabComponent___1lYY0",buttonAddImport:"buttonAddImport___1xCFk",buttonAddImport_text:"buttonAddImport_text___3WL5D",filterSider:"filterSider___3yu03",tableContent:"tableContent___1fTPq",tabBarExtra:"tabBarExtra___2DD0G",filterButton:"filterButton___34irE",textButtonFilter:"textButtonFilter___2Qddz",filterBackgroundButton:"filterBackgroundButton___47Q9Y"}},RmPQ:function(e,t,a){e.exports={companiesManagement:"companiesManagement___3zv6f",titlePage:"titlePage___hSftS",titlePage_text:"titlePage_text___3IQlj"}},Sl0r:function(e,t,a){"use strict";a.r(t);a("1YHl");var n,o,i,l,c,r,s,d,p=a("VNzZ"),m=a("fWQN"),u=a("mtLc"),b=a("yKVA"),f=a("879j"),g=a("q1tI"),v=a.n(g),h=a("9kvl"),_=a("AfpS"),y=(a("Znn+"),a("ZTPi")),C=(a("B9cy"),a("Ol7k")),j=a("34ay"),O=(a("g9YV"),a("wCAj")),E=a("k1fw"),x=a("anGz"),k=a.n(x),w=(n=Object(h["a"])(),o=Reflect.metadata("design:type",Function),i=Reflect.metadata("design:paramtypes",[void 0]),n(l=o(l=i(l=function(e){Object(b["a"])(a,e);var t=Object(f["a"])(a);function a(e){var n;return Object(m["a"])(this,a),n=t.call(this,e),n.generateColumns=function(){var e=[{title:Object(h["b"])({id:"app.companyId"}),dataIndex:"code",key:"code",align:"left",defaultSortOrder:"ascend",sortDirections:["ascend","descend","ascend"]},{title:Object(h["b"])({id:"app.companyName"}),dataIndex:"name",align:"left"},{title:Object(h["b"])({id:"app.doingBusinessAs"}),dataIndex:"dba",align:"left"},{title:Object(h["b"])({id:"app.EIN"}),dataIndex:"ein",align:"left"},{title:Object(h["b"])({id:"app.headquarterAddress"}),dataIndex:"headQuarterAddress",align:"left",render:function(e){var t=e.addressLine1,a=void 0===t?"":t,n=e.addressLine2,o=void 0===n?"":n,i=e.state,l=void 0===i?"":i,c=e.country,r=void 0===c?{}:c,s=e.zipCode,d=void 0===s?"":s;return v.a.createElement("span",null,a,o&&", ",o,l&&", ",l,r?", ":"",(null===r||void 0===r?void 0:r.name)||r||"",d&&", ",d)}},{title:Object(h["b"])({id:"app.workLocations"}),align:"left"},{title:Object(h["b"])({id:"app.license"}),align:"center",render:function(){return v.a.createElement("span",null,"v4.0")}}];return e.map((function(e){return Object(E["a"])(Object(E["a"])({},e),{},{title:e.title})}))},n.openModal=function(){n.setState({visible:!0})},n.handleCancel=function(){n.setState({visible:!1})},n.deleteEmployee=function(e){e.stopPropagation(),n.openModal()},n.editUser=function(e,t){t.preventDefault()},n.onChangePagination=function(e){n.setState({pageSelected:e})},n.setFirstPage=function(){n.setState({pageSelected:1})},n.onSelectChange=function(e){n.setState({selectedRowKeys:e})},n.handleCompanyDetail=function(e){var t=n.props.dispatch;Object(j["y"])(e.tenant),t({type:"companiesManagement/save",payload:{tenantCurrentCompany:e.tenant}}),h["e"].push("/companies-management/company-detail/".concat(e._id))},n.state={pageSelected:1,selectedRowKeys:[],visible:!1},n}return Object(u["a"])(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.data;e.data!==t&&this.setFirstPage()}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=void 0===a?[]:a,o=t.loading,i=this.state,l=i.pageSelected,c=i.selectedRowKeys,r=(i.visible,10),s={y:"max-content"},d={position:["bottomLeft"],total:n.length,showTotal:function(e,t){return v.a.createElement("span",null," ",Object(h["b"])({id:"component.directory.pagination.showing"})," ",v.a.createElement("b",null,t[0]," - ",t[1])," ",Object(h["b"])({id:"component.directory.pagination.of"})," ",e," ")},pageSize:r,current:l,onChange:this.onChangePagination},p={type:"checkbox",selectedRowKeys:c,onChange:this.onSelectChange};return v.a.createElement("div",{className:k.a.tableEmployees},v.a.createElement(O["a"],{size:"middle",loading:o,onRow:function(t){return{onClick:function(){return e.handleCompanyDetail(t)}}},rowSelection:p,pagination:Object(E["a"])(Object(E["a"])({},d),{},{total:n.length}),columns:this.generateColumns(),dataSource:n,scroll:s,rowKey:function(e){return e._id}}))}}]),a}(g["PureComponent"]))||l)||l)||l),S=w,I=a("DqPk"),P=a.n(I),N=(c=Object(h["a"])((function(e){var t=e.loading,a=e.companiesManagement.companiesList,n=void 0===a?[]:a;return{loadingCompaniesList:t.effects["companiesManagement/fetchCompaniesList"],companiesList:n}})),r=Reflect.metadata("design:type",Function),s=Reflect.metadata("design:paramtypes",[void 0]),c(d=r(d=s(d=function(e){Object(b["a"])(a,e);var t=Object(f["a"])(a);function a(e){var n;return Object(m["a"])(this,a),n=t.call(this,e),n.initDataTable=function(){var e=n.props.dispatch;e({type:"companiesManagement/fetchCompaniesList",payload:{tenantId:Object(j["f"])()}})},n.handleRedirect=function(){var e=n.props.dispatch,t=h["e"].location.pathname;e({type:"global/save",payload:{fromCompanyManagement:t}}),h["e"].push("/control-panel/add-company")},n.rightButton=function(){return v.a.createElement("div",{className:P.a.tabBarExtra},v.a.createElement("div",{onClick:n.handleRedirect},v.a.createElement("div",{className:P.a.buttonAddImport},v.a.createElement("img",{src:"/assets/images/addMemberIcon.svg",alt:"Add Company"}),v.a.createElement("p",{className:P.a.buttonAddImport_text},Object(h["b"])({id:"app.addNewCompany"})))))},n.handleToggle=function(){var e=n.state.collapsed;n.setState({collapsed:!e})},n.getCompanies=function(){var e=n.props.companiesList,t=void 0===e?[]:e,a=Object(j["f"])();return t.filter((function(e){return e.tenant===a||e.childOfCompany===a}))},n.state={tabId:1,collapsed:!0},n}return Object(u["a"])(a,[{key:"componentDidMount",value:function(){this.initDataTable()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.tabId;t.tabId!==a&&this.getDataTable(a)}},{key:"render",value:function(){var e=C["a"].Content,t=y["a"].TabPane,a=this.props.loadingCompaniesList,n=this.getCompanies(),o=this.state.collapsed;return v.a.createElement("div",{className:P.a.tableContainer},v.a.createElement("div",{className:P.a.tableContent},v.a.createElement(y["a"],{defaultActiveKey:"1",className:P.a.tabComponent,tabBarExtraContent:this.rightButton(o)},v.a.createElement(t,null,v.a.createElement(C["a"],{className:P.a.managementLayout},v.a.createElement(e,{className:"site-layout-background"},v.a.createElement(S,{loading:a,data:n})))))))}}]),a}(g["PureComponent"]))||d)||d)||d),B=N,D=a("RmPQ"),A=a.n(D),L=function(e){Object(b["a"])(a,e);var t=Object(f["a"])(a);function a(){return Object(m["a"])(this,a),t.apply(this,arguments)}return Object(u["a"])(a,[{key:"render",value:function(){return v.a.createElement(_["a"],null,v.a.createElement("div",{className:A.a.companiesManagement},v.a.createElement(p["a"],{offsetTop:42},v.a.createElement("div",{className:A.a.titlePage},v.a.createElement("p",{className:A.a.titlePage_text},Object(h["b"])({id:"pages.companiesManagement"})))),v.a.createElement(B,null)))}}]),a}(g["PureComponent"]);t["default"]=L},anGz:function(e,t,a){e.exports={"mixin-border-bottom-row":"mixin-border-bottom-row___3KaZJ",tableEmployees:"tableEmployees___2wr1f"}}}]);