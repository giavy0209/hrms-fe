(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[68],{"/lM3":function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));a("+L6B");var n=a("2/Rp"),r=(a("OaEy"),a("2fM7")),o=(a("14J3"),a("BMrR")),i=(a("jCWc"),a("kPKH")),s=a("oBTY"),l=(a("5NDa"),a("5rEg")),c=(a("sRBo"),a("kaz8")),m=(a("DYRE"),a("zeV3")),u=(a("7Kak"),a("9yH6")),d=a("tJVT"),p=a("q1tI"),_=a.n(p),f=a("9kvl"),E=a("to1e"),g=a.n(E),v=a("fhjB"),y=a.n(v),I=a("NvQH"),h=a("SD8y"),O=a.n(h);function b(e){var t=e.questionItem,a=e.keyQuestion,E=e.openModalEdit,v=e.openModalRemove,h=e.mode,b=void 0===h?I["a"].EDIT:h,q=e.errorMessage,C=e.onChangeEmployeeAnswers,N=void 0===C?function(){}:C,T=t.isRequired,k=void 0!==T&&T,w=t.multiChoice,A=void 0===w?{}:w,F=t.answerType,L=void 0===F?"":F,R=t.question,B=void 0===R?"":R,S=t.rating,j=void 0===S?{}:S,x=t.defaultAnswers,M=void 0===x?[]:x,G=t.employeeAnswers,H=void 0===G?[]:G,D=Object(p["useState"])(q),W=Object(d["a"])(D,2),P=W[0],U=W[1];Object(p["useEffect"])((function(){U(q)}),[q]);var Q=function(e){var t=A||{},n=t.specify,r=void 0===n?{}:n,o=t.num;return N(e,a),k||e.length?(r===I["b"].AT_LEAST.key&&e.length<o?U(Object(f["b"])({id:"component.question.specify.atLeast"},{num:o})):r===I["b"].AT_MOST.key&&e.length>o?U(Object(f["b"])({id:"component.question.specify.atMost"},{num:o})):r===I["b"].EXACTLY.key&&e.length!==o?U(Object(f["b"])({id:"component.question.specify.exactly"},{num:o})):U(""),!0):U("")},V=function(e,t){M[t]="".concat(e.target.value),N(M,a)},J=function(){var e,t;switch(L){case I["c"].SINGLE_CHOICE.key:return _.a.createElement(u["a"].Group,{onChange:function(e){return N([e.target.value],a)},value:H[0],disabled:b!==I["a"].ANSWER},_.a.createElement(m["b"],{direction:"vertical"},M.map((function(e){return _.a.createElement(u["a"],{value:e},e)}))));case I["c"].MULTIPLE_CHOICE.key:return _.a.createElement(c["a"].Group,{defaultValue:H,onChange:function(e){return Q(e)},style:{width:"100%"},disabled:b!==I["a"].ANSWER},M.map((function(e){return _.a.createElement("div",{style:{marginBottom:"5px"}},_.a.createElement(c["a"],{value:e},e))})));case I["c"].TEXT_ANSWER.key:return _.a.createElement(l["a"].TextArea,{placeholder:Object(f["b"])({id:"component.question.typeHere"}),onChange:function(e){return N([e.target.value],a)},value:H[0],rows:4,disabled:b!==I["a"].ANSWER});case I["c"].RATING_CHOICE.key:return _.a.createElement("div",{className:O.a.questionItem__rating},_.a.createElement("span",null,j.rows[0]),_.a.createElement(u["a"].Group,{onChange:function(e){return N([e.target.value],a)},value:parseInt(H[0],10),disabled:b!==I["a"].ANSWER},Object(s["a"])(Array(Math.abs(j.columns[0]-j.columns[1])+1)).map((function(e,t){return _.a.createElement(u["a"],{value:j.columns[0]+t},j.columns[0]+t)}))),_.a.createElement("span",null,j.rows[1]));case I["c"].MULTI_RATING_CHOICE.key:return _.a.createElement("div",null,_.a.createElement(o["a"],null,_.a.createElement(i["a"],{flex:"100px",key:0}),null===(e=j.columns)||void 0===e?void 0:e.map((function(e){return _.a.createElement(i["a"],{flex:1},_.a.createElement("div",{className:O.a.contentColumns},e))}))),null===(t=j.rows)||void 0===t?void 0:t.map((function(e,t){return _.a.createElement(o["a"],null,_.a.createElement(i["a"],{flex:"100px"},e),_.a.createElement(i["a"],{flex:"auto"},_.a.createElement(u["a"].Group,{style:{width:"100%"},onChange:function(e){return V(e,t)},value:parseInt(H[t],10),disabled:b!==I["a"].ANSWER},_.a.createElement(m["b"],{direction:"horizontal",className:O.a.radioGroup},Object(s["a"])(Array(j.columns.length)).map((function(e,t){return _.a.createElement(u["a"],{value:t})}))))))})));case I["c"].SELECT_OPTION.key:return _.a.createElement(r["default"],{value:H[0]&&H[0],placeholder:Object(f["b"])({id:"component.question.selectOption"}),onChange:function(e){return N([e],a)},style:{width:"100%"},showSearch:!0},M.map((function(e){return _.a.createElement(r["default"].Option,{disabled:b!==I["a"].ANSWER,value:e},e)})));default:return null}};return _.a.createElement(o["a"],{className:O.a.questionItem},_.a.createElement(i["a"],{span:b===I["a"].EDIT?18:24},_.a.createElement("div",{className:O.a.questionItem__question},a+1,". ",B," ",k&&_.a.createElement("span",{className:O.a.required},"(*)")),_.a.createElement(i["a"],{className:O.a.questionItem__answer},J(),P&&_.a.createElement("div",{className:O.a.errorMessage,role:"alert"},P))),"edit"===b&&_.a.createElement("div",{className:O.a.questionItem__manage},_.a.createElement(n["default"],{type:"link",style:{display:"flex",alignItems:"center",paddingLeft:"0px",paddingRight:"0px"},onClick:function(){return E(t,a)}},_.a.createElement("img",{src:g.a,alt:"Edit icon",style:{width:"16px",marginRight:"8px"}}),_.a.createElement("span",{style:{paddingRight:"16px",borderRight:"1px solid #B5B8BD"}}," ",Object(f["b"])({id:"app.edit"})," ")),_.a.createElement(n["default"],{type:"link",style:{display:"flex",alignItems:"center",paddingLeft:"16px"},onClick:function(){return v(t,a)}},_.a.createElement("img",{src:y.a,alt:"Remove icon",style:{width:"16px",marginRight:"8px"}}),_.a.createElement("span",{style:{color:"#FF6565"}}," ",Object(f["b"])({id:"app.delete"})," "))))}},NvQH:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n={TEXT_ANSWER:{key:"FIELD",value:"component.question.type.text"},SINGLE_CHOICE:{key:"CHOICE",value:"component.question.type.singleChoice"},MULTIPLE_CHOICE:{key:"MULTI-CHOICE",value:"component.question.type.multipleChoice"},SELECT_OPTION:{key:"SELECT",value:"component.question.type.dropdown"},RATING_CHOICE:{key:"RATING",value:"component.question.type.singleRating"},MULTI_RATING_CHOICE:{key:"MULTI-RATING",value:"component.question.type.multipleRating"}},r={AT_LEAST:{key:"AT-LEAST",value:"component.question.specify.atLeast"},AT_MOST:{key:"AT-MOST",value:"component.question.specify.atMost"},EXACTLY:{key:"EXACTLY",value:"component.question.specify.exactly"}},o={ANSWER:"answer",EDIT:"edit",VIEW:"view"}},SD8y:function(e,t,a){e.exports={questionItem:"questionItem___2X2pr",questionItem__manage:"questionItem__manage___1fkJP",questionItem__manage__edit:"questionItem__manage__edit___U3ffu",questionItem__manage__remove:"questionItem__manage__remove___3ppml",questionItem__question:"questionItem__question___3U_6z",questionItem__answers:"questionItem__answers___1oDIG",questionItem__answers__remove:"questionItem__answers__remove___PsRJ2",questionItem__rating:"questionItem__rating___zXHl0",errorMessage:"errorMessage___2L6Bs",required:"required___pdWhf","ant-row":"ant-row___PAFNv","ant-col":"ant-col___2LgIZ","ant-radio-group":"ant-radio-group___3Mnit",radioGroup:"radioGroup___aFf9C",contentColumns:"contentColumns___2pVc7"}},fM2A:function(e,t,a){"use strict";a.r(t);a("14J3");var n,r,o,i,s=a("BMrR"),l=(a("jCWc"),a("kPKH")),c=(a("/zsF"),a("PArb")),m=(a("+L6B"),a("2/Rp")),u=(a("/xke"),a("TeRw")),d=a("qLMh"),p=a("k1fw"),_=a("9og8"),f=a("fWQN"),E=a("mtLc"),g=a("yKVA"),v=a("879j"),y=a("/lM3"),I=a("LMbU"),h=a("q1tI"),O=a.n(h),b=a("9kvl"),q=a("gyPD"),C=a.n(q),N=(n=Object(b["a"])((function(e){var t=e.loading,a=e.employeeSetting,n=a.currentFormOffBoarding,r=n.settings,o=void 0===r?[]:r,i=n.name,s=void 0===i?"":i,l=n.description,c=void 0===l?"":l,m=n.departmentName,u=a.currentFormOffBoarding;return{loading:t.effects["employeeSetting/addFormOffBoarding"],questionList:o,currentFormOffBoarding:u,nameOfForm:s,description:c,departmentName:m}})),r=Reflect.metadata("design:type",Function),o=Reflect.metadata("design:paramtypes",[void 0]),n(i=r(i=o(i=function(e){Object(g["a"])(a,e);var t=Object(v["a"])(a);function a(e){var n;return Object(f["a"])(this,a),n=t.call(this,e),n.changeQuestionList=function(){var e=Object(_["a"])(Object(d["a"])().mark((function e(t){var a,r,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.props,r=a.dispatch,o=a.currentFormOffBoarding,e.abrupt("return",r({type:"employeeSetting/save",payload:{currentFormOffBoarding:Object(p["a"])(Object(p["a"])({},o),{},{settings:t})}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onChangeNameOfForm=function(e){var t=e.target.value,a=void 0===t?"":t,r=n.props,o=r.dispatch,i=r.currentFormOffBoarding;return o({type:"employeeSetting/save",payload:{currentFormOffBoarding:Object(p["a"])(Object(p["a"])({},i),{},{name:a})}})},n.onSaveForm=function(){var e=n.props,t=e.questionList,a=e.currentFormOffBoarding,r=e.nameOfForm,o=e.dispatch,i=e.match.params.id;0===t.length?u["a"].error({message:"The form must have at least one question."}):""===r?u["a"].error({message:"The form name cannot be left blank."}):i?o({type:"employeeSetting/updateFormOffBoarding",payload:Object(p["a"])(Object(p["a"])({},a),{},{id:i})}).then((function(e){200===e&&u["a"].success({message:"Update form successfully"})})):o({type:"employeeSetting/addFormOffBoarding",payload:a}).then((function(e){200===e&&u["a"].success({message:"Add new custom form successfully"})}))},n.state={isFormNotFound:!1},n}return Object(E["a"])(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.match.params.id;n&&a({type:"employeeSetting/getFormOffBoardingById",payload:{id:n}}).then((function(t){t||e.setState({isFormNotFound:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.isFormNotFound;t.isFormNotFound!==a&&!0===a&&b["e"].push("/error404")}},{key:"render",value:function(){var e=this.props,t=e.questionList,a=e.loading,n=e.nameOfForm,r=e.description,o=e.departmentName,i=e.match.params.id;return O.a.createElement(I["a"],null,O.a.createElement("div",{className:C.a.newForm},O.a.createElement("div",{className:C.a.formItem},O.a.createElement("div",{className:C.a.formItem__header},O.a.createElement("div",{className:C.a.formItem__header__title},"View Form"),O.a.createElement(m["default"],{type:"primary",loading:a,onClick:function(){return b["e"].push("/offboarding/settings/forms/form-detail/".concat(i,"/edit"))},className:C.a.formItem__header__saveBtn},"Edit Form")),O.a.createElement(c["default"],null),O.a.createElement(s["a"],{style:{marginBottom:"24px"}},O.a.createElement(l["a"],{span:6},O.a.createElement("span",null,O.a.createElement("strong",null,"Name of form:"))),O.a.createElement(l["a"],null,O.a.createElement("div",null," ",n," "))),O.a.createElement(s["a"],{style:{marginBottom:"24px"}},O.a.createElement(l["a"],{span:6},O.a.createElement("span",null,O.a.createElement("strong",null,"Description of form:"))),O.a.createElement(l["a"],null,O.a.createElement("div",null," ",r," "))),O.a.createElement(s["a"],{style:{marginBottom:"24px"}},O.a.createElement(l["a"],{span:6},O.a.createElement("span",null,O.a.createElement("strong",null,"Department: "))),O.a.createElement(l["a"],null,O.a.createElement("div",null," ",o," "))),t.map((function(e,t){return O.a.createElement(y["a"],{keyQuestion:t,questionItem:e,control:!1})})))))}}]),a}(h["PureComponent"]))||i)||i)||i);t["default"]=N},fhjB:function(e,t,a){e.exports=a.p+"static/remove.7d8d27f3.svg"},gyPD:function(e,t,a){e.exports={newForm:"newForm___Cy0kY",formItem:"formItem___2Qs_v",listQuestion:"listQuestion___1EFf-",formItem__header:"formItem__header___3fACe",formItem__header__title:"formItem__header__title___y0lVG",formItem__header__saveBtn:"formItem__header__saveBtn___3CgvQ"}},to1e:function(e,t,a){e.exports=a.p+"static/editBtnBlue.5035304a.svg"}}]);