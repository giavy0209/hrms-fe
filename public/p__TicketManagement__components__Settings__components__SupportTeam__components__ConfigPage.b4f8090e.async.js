(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[89],{"+N5N":function(e,t,a){"use strict";var n=a("0Owb"),i=(a("OaEy"),a("2fM7")),r=a("oBTY"),o=a("PpiC"),l=a("q1tI"),c=a.n(l),s=a("9kvl"),m=a("lyOd"),d=a.n(m),u=a("nOCO"),p=a.n(u),g=["location","options","disabled","allowClear","onChange"],v=function(e){var t=e.location.companyLocationList,a=void 0===t?[]:t,m=e.options,u=e.disabled,v=void 0!==u&&u,y=e.allowClear,f=void 0===y||y,b=e.onChange,E=void 0===b?function(){}:b,_=Object(o["a"])(e,g),O=m||a,h=function(){var e=[];O.length>0&&(e=O.map((function(e){var t;return null===(t=e.headQuarterAddress)||void 0===t?void 0:t.country})));var t=function(e,t){return Object(r["a"])(new Map(e.map((function(e){return[t(e),e]}))).values())},a=t(e,(function(e){return null===e||void 0===e?void 0:e._id})),n=function(e){var t,n=null===(t=a.find((function(t){return t._id===e})))||void 0===t?void 0:t.flag;return c.a.createElement("div",{style:{maxWidth:"24px",width:"24px",height:"24px",display:"inline-flex",alignItems:"center",marginRight:"12px"}},c.a.createElement("img",{src:n,alt:"flag",style:{width:"100%",borderRadius:"50%",height:"100%",objectFit:"cover",border:"1px solid #00000010",overflow:"hidden"}}))};return c.a.createElement(c.a.Fragment,null,a.map((function(e){return c.a.createElement(i["default"].Option,{key:null===e||void 0===e?void 0:e._id,value:null===e||void 0===e?void 0:e._id,className:p.a.optionCountry},c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},n(null===e||void 0===e?void 0:e._id),c.a.createElement("span",{style:{fontSize:"13px",fontWeight:"500"}},null===e||void 0===e?void 0:e.name)))})))};return c.a.createElement(l["Fragment"],{className:p.a.CountrySelector},c.a.createElement(i["default"],Object(n["a"])({size:"large",showArrow:!0,disabled:v,allowClear:f,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:Object(s["b"])({id:"component.countrySelector.select"}),suffixIcon:c.a.createElement("img",{src:d.a,alt:""}),onChange:E},_),h()))};t["a"]=Object(s["a"])((function(e){var t=e.location;return{location:t}}))(v)},"/ggf":function(e,t,a){e.exports=a.p+"static/ic_remove_3.1df3c3f0.svg"},"36AM":function(e,t,a){e.exports=a.p+"static/question_circle.a0f8b683.svg"},"9WB4":function(e,t,a){e.exports={CustomBlueButton:"CustomBlueButton___3b2E5"}},Ed6y:function(e,t,a){"use strict";a("+L6B");var n=a("2/Rp"),i=a("0Owb"),r=a("PpiC"),o=a("q1tI"),l=a.n(o),c=a("9WB4"),s=a.n(c),m=["children"],d=function(e){var t=e.children,a=Object(r["a"])(e,m);return l.a.createElement("div",{className:s.a.CustomBlueButton},l.a.createElement(n["default"],Object(i["a"])({type:"primary"},a),t))};t["a"]=d},SOgc:function(e,t,a){e.exports={EmptyComponent:"EmptyComponent___2mSCq"}},Wjgv:function(e,t,a){e.exports={CustomPrimaryButton:"CustomPrimaryButton___1PBpv"}},XKTF:function(e,t,a){"use strict";a.r(t);a("1YHl");var n=a("VNzZ"),i=(a("cWXX"),a("/ezw")),r=(a("14J3"),a("BMrR")),o=(a("jCWc"),a("kPKH")),l=(a("miYZ"),a("tsqr")),c=a("qLMh"),s=a("9og8"),m=(a("y8nQ"),a("Vl3Y")),d=a("tJVT"),u=a("LvDl"),p=a("q1tI"),g=a.n(p),v=a("9kvl"),y=a("AfpS"),f=a("k6th"),b=a("p02a"),E=a("+n12"),_=(a("IzEo"),a("bx4M")),O=(a("BoS7"),a("Sdc0")),h=(a("5Dmo"),a("3S7+")),k=(a("OaEy"),a("2fM7")),j=(a("5NDa"),a("5rEg")),C=a("oBTY"),T=a("iTvS"),A=a("+N5N"),S=a("36AM"),w=a.n(S),B=a("o0Jf"),N=a.n(B),M=function(e){var t=e.selectedQueryTypes,a=void 0===t?[]:t,n=e.setSelectedQueryTypes,i=void 0===n?function(){}:n,l=e.form,c=e.disabled,s=void 0!==c&&c,d=e.disabledLocation,p=void 0!==d&&d,y=e.onChangeCountry,f=void 0===y?function(){}:y,b=function(e){if(e){var t=JSON.parse(JSON.stringify(a));t.push({name:e}),t=Object(C["a"])(new Set(t)),i(t),l.setFieldsValue({queryType:t.map((function(e){return e.name}))})}},E=function(e){var t=e.target.value.trim();13===e.keyCode&&t&&b(t)},S=function(e){var t=JSON.parse(JSON.stringify(a));t=t.filter((function(t){return t.name!==e})),i(t),l.setFieldsValue({queryType:t.map((function(e){return e.name}))})};return g.a.createElement(_["a"],{title:Object(v["b"])({id:"pages.ticketManagement.basicInfoFormTitle"}),className:N.a.BasicInfo},g.a.createElement(r["a"],{gutter:[24,24],align:"middle"},g.a.createElement(o["a"],{sm:10},g.a.createElement("span",{className:N.a.label},Object(v["b"])({id:"pages.ticketManagement.enterNameSupportTeam"}))),g.a.createElement(o["a"],{sm:14},g.a.createElement(m["a"].Item,{name:"name",rules:[{required:!0,message:Object(v["b"])({id:"pages.ticketManagement.rulesNameSupportTeam"})},{whitespace:!0,message:Object(v["b"])({id:"pages.ticketManagement.rulesNameSupportTeam"})}]},g.a.createElement(j["a"],{disabled:s,placeholder:Object(v["b"])({id:"pages.ticketManagement.nameSupportTeamPlaceHolder"})}))),g.a.createElement(o["a"],{sm:10},g.a.createElement("span",{className:N.a.label},Object(v["b"])({id:"pages.ticketManagement.addQueryTypes"}))),g.a.createElement(o["a"],{sm:14},g.a.createElement(m["a"].Item,{className:N.a.formItem,name:"queryType",rules:[{required:0===a.length,message:Object(v["b"])({id:"pages.ticketManagement.rulesEnterQueryType"})},{validator:function(e,t){return!Object(u["isEmpty"])(t)&&t.some((function(e){return 0===e.trim().length}))?Promise.reject("The query type is invalid"):Promise.resolve()}}]},g.a.createElement(k["default"],{allowClear:!0,mode:"tags",className:N.a.InputQueryTypes,placeholder:Object(v["b"])({id:"pages.ticketManagement.enterQueryTypePlaceHolder"}),disabled:s,onKeyDown:function(e){return E(e)},dropdownClassName:N.a.selectDropdown,onClear:function(){return i([])},onDeselect:function(e){return S(e)},onSelect:function(e){return b(e)},dropdownRender:function(e){return g.a.createElement(g.a.Fragment,null,a.length>0&&g.a.createElement("p",{style:{fontSize:12,fontStyle:"italic",color:"#8c8c8c",marginBlock:6,paddingLeft:12}},Object(v["b"])({id:"pages.ticketManagement.queryTypeDropdown"})),e)},notFoundContent:g.a.createElement(T["a"],{height:150,description:g.a.createElement("span",{style:{fontSize:12}}," ",Object(v["b"])({id:"pages.ticketManagement.queryTypeDropdown"}))})},a.map((function(e){return g.a.createElement(k["default"].Option,{className:N.a.optionSelect,value:e.name,key:e.name},e.name)}))))),g.a.createElement(o["a"],{sm:10},g.a.createElement("div",{className:N.a.displayFlex},g.a.createElement("span",{className:N.a.label},Object(v["b"])({id:"pages.ticketManagement.notifyNewTicket"})),g.a.createElement(h["default"],{title:Object(v["b"])({id:"pages.ticketManagement.notifyEveryNewTicket"})},g.a.createElement("img",{className:N.a.questionIcon,src:w.a,alt:""})))),g.a.createElement(o["a"],{sm:14},g.a.createElement(m["a"].Item,{name:"emails",rules:[{validator:function(e,t){if(!t)return Promise.resolve();var a=t.some((function(e){return!e.match(/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/)}));return a?Promise.reject(new Error(Object(v["b"])({id:"pages.ticketManagement.rulesEmailAddress"}))):Promise.resolve()}}]},g.a.createElement(k["default"],{mode:"tags",placeholder:Object(v["b"])({id:"pages.ticketManagement.addEmailAddress"})}))),g.a.createElement(o["a"],{sm:10},g.a.createElement("div",{className:N.a.displayFlex},g.a.createElement("span",{className:N.a.label},Object(v["b"])({id:"pages.ticketManagement.enableDailyEmail"})),g.a.createElement(h["default"],{title:Object(v["b"])({id:"pages.ticketManagement.enableDailySendMail"})},g.a.createElement("img",{className:N.a.questionIcon,src:w.a,alt:""})))),g.a.createElement(o["a"],{sm:14},g.a.createElement(m["a"].Item,{name:"isDailyEmail",valuePropName:"checked"},g.a.createElement(O["default"],null))),g.a.createElement(o["a"],{sm:10},g.a.createElement("span",{className:N.a.label},Object(v["b"])({id:"pages.ticketManagement.location"}))),g.a.createElement(o["a"],{sm:14},g.a.createElement(m["a"].Item,{name:"country",rules:[{required:!0,message:Object(v["b"])({id:"pages.ticketManagement.rulesLocation"})}]},g.a.createElement(A["a"],{disabled:s||p,onChange:f})))))},L=Object(v["a"])((function(e){var t=e.location.companyLocationList,a=void 0===t?[]:t;return{companyLocationList:a}}))(M),I=(a("T2oS"),a("W9HT")),x=(a("giR+"),a("fyUT")),P=a("0Owb"),F=a("PpiC"),q=a("xvlK"),D=a("Ed6y"),R=a("/ggf"),Q=a.n(R),J=a("riF+"),z=a.n(J),X=["key","name"],Y=function(e){var t=e.priorityLevels,a=void 0===t?[]:t,n=e.loadingFetch,i=void 0!==n&&n,l=e.disabled,c=void 0!==l&&l,s=e.setIsChecked,d=void 0===s?function(){}:s,u=e.isChecked,y=void 0!==u&&u,f=function(e){d(e)},b=function(){return g.a.createElement(O["default"],{defaultChecked:y,onChange:f,disabled:c})};return g.a.createElement(I["a"],{spinning:i&&y},g.a.createElement(_["a"],{title:Object(v["b"])({id:"pages.ticketManagement.SLATitle"}),className:z.a.SLA,extra:b()},y&&g.a.createElement("div",{className:z.a.container},g.a.createElement(m["a"].List,{name:"priorityLevel"},(function(e,t){var n=t.add,i=t.remove;return g.a.createElement(g.a.Fragment,null,g.a.createElement(r["a"],{gutter:[24,16],align:"middle",style:{marginBottom:e.length?16:0}},e.map((function(e){var t=e.key,n=e.name,r=Object(F["a"])(e,X);return g.a.createElement(p["Fragment"],{key:t},g.a.createElement(o["a"],{span:11},g.a.createElement(m["a"].Item,Object(P["a"])({},r,{name:[n,"priority"],rules:[{required:!0,message:Object(v["b"])({id:"pages.ticketManagement.rulesRequiredField"})},function(e){var t=e.getFieldValue;return{validator:function(e,a){var n,i=(null===(n=t("priorityLevel"))||void 0===n?void 0:n.map((function(e){return e.priority})))||[];return!a||i.filter((function(e){return e===a})).length<2?Promise.resolve():Promise.reject(new Error("Priority is already set"))}}}]}),g.a.createElement(k["default"],{allowClear:!0,placeholder:Object(v["b"])({id:"pages.ticketManagement.priorityPlaceHolder"}),disabled:c},a.map((function(e){return g.a.createElement(k["default"].Option,{key:e._id,value:e._id},e.name)}))))),g.a.createElement(o["a"],{span:11},g.a.createElement(m["a"].Item,Object(P["a"])({},r,{name:[n,"numberSLA"],rules:[{required:!0,message:Object(v["b"])({id:"pages.ticketManagement.rulesRequiredField"})}]}),g.a.createElement(x["a"],{placeholder:Object(v["b"])({id:"pages.ticketManagement.SLATimePlaceHolder"}),addonAfter:Object(v["b"])({id:"pages.ticketManagement.addonAfterDay"}),disabled:c,min:1,max:1e4}))),g.a.createElement(o["a"],{span:2},g.a.createElement("div",{className:z.a.actions},g.a.createElement("img",{style:{cursor:"pointer",pointerEvents:c?"none":"auto"},src:Q.a,onClick:function(){return i(n)},alt:""}))))}))),g.a.createElement(D["a"],{type:"link",icon:g.a.createElement(q["a"],null),onClick:n,disabled:c},Object(v["b"])({id:"pages.ticketManagement.addNewPriorityLevel"})))})))))},U=Object(v["a"])((function(){return{}}))(Y),H=a("sPO8"),V=a.n(H),W=function(e){var t=m["a"].useForm(),a=Object(d["a"])(t,1),_=a[0],O=e.dispatch,h=e.match;h=void 0===h?{}:h;var k=h.params;k=void 0===k?{}:k;var j=k.configType,C=void 0===j?"":j,T=k.id,A=void 0===T?"":T,S=e.loadingFetchTypeByID,w=void 0!==S&&S,B=e.loadingUpsertLeaveType,N=void 0!==B&&B,M=e.loadingFetchPriority,I=void 0!==M&&M,x=e.ticketManagement.settings,P=x.selectedCountry,F=void 0===P?"":P,q=x.viewingSettingTicket,D=void 0===q?{}:q,R=x.priorityLevels,Q=void 0===R?[]:R,J=Object(p["useState"])([]),z=Object(d["a"])(J,2),X=z[0],Y=z[1],H=Object(p["useState"])(!1),W=Object(d["a"])(H,2),G=W[0],K=W[1],Z=function(e){O({type:"ticketManagement/fetchPriorityLevel",payload:{country:[e]}})};Object(p["useEffect"])((function(){var e,t;"edit"!==C||Object(u["isEmpty"])(D)||(_.setFieldsValue({name:null===D||void 0===D?void 0:D.name,queryType:null===D||void 0===D||null===(e=D.queryType)||void 0===e?void 0:e.map((function(e){return e.name})),emails:D.emails,country:null===D||void 0===D?void 0:D.country,priorityLevel:null===D||void 0===D||null===(t=D.priorityLevel)||void 0===t?void 0:t.map((function(e){var t;return{priority:null===(t=e.priority)||void 0===t?void 0:t._id,numberSLA:e.numberSLA}})),isDailyEmail:null===D||void 0===D?void 0:D.isDailyEmail}),Object(u["isEmpty"])(null===D||void 0===D?void 0:D.priorityLevel)||K(!0),Z(null===D||void 0===D?void 0:D.country))}),[JSON.stringify(D)]),Object(p["useEffect"])((function(){return"new"===C&&(Z(F),_.setFieldsValue({country:F||null})),function(){O({type:"ticketManagement/saveSettings",payload:{viewingSettingTicket:null}})}}),[]);var $=function(){var e=Object(s["a"])(Object(c["a"])().mark((function e(){var t,a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!A){e.next=5;break}return e.next=3,O({type:"ticketManagement/fetchSettingTicketByID",payload:{_id:A}});case 3:t=e.sent,200===t.statusCode&&Y(null===(a=t.data)||void 0===a?void 0:a.queryType);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){v["e"].push("/ticket-management/settings/support-team")},te=function(e){Z(e),_.setFieldsValue({priorityLevel:[]})},ae=function(e){var t,a={name:e.name,country:e.country,queryType:X,emails:e.emails,isDailyEmail:e.isDailyEmail,priorityLevel:null===(t=e.priorityLevel)||void 0===t?void 0:t.map((function(e){return{numberSLA:e.numberSLA,priority:e.priority}}))};"edit"===C&&(a._id=A),G||delete a.priorityLevel,O({type:"ticketManagement/saveSettings",payload:{selectedCountry:e.country}}),O({type:"ticketManagement/upsertSettingTicket",payload:a}).then((function(e){var t=e.statusCode;200===t&&ee()}))},ne=function(e){var t="",a=e||{},n=a.errorFields,i=void 0===n?[]:n;if(i.length){var r,o=null===(r=i[0])||void 0===r?void 0:r.errors[0];t=o}l["default"].error(t)};Object(p["useEffect"])((function(){return Object(E["p"])(),$(),function(){O({type:"timeOff/save",payload:{viewingSettingTicket:{}}})}}),[]);var ie=function(){return g.a.createElement("div",{className:V.a.header},g.a.createElement("p",{className:V.a.title}," ",Object(v["b"])({id:"pages.ticketManagement.configSupportTeam"})),g.a.createElement("p",{className:V.a.description},Object(v["b"])({id:"pages.ticketManagement.configSupportTeamDesc"})))},re=function(){return g.a.createElement("div",{className:V.a.bottomBar},g.a.createElement(r["a"],{align:"middle"},g.a.createElement(o["a"],{span:24},g.a.createElement("div",{className:V.a.bottomBar__button},g.a.createElement(b["a"],{onClick:ee},Object(v["b"])({id:"app.cancel"})),g.a.createElement(f["a"],{form:"updateSupportTeamForm",htmlType:"submit",key:"submit",loading:N},Object(v["b"])({id:"app.save"}))))))},oe=function(){var e=[{id:1,component:g.a.createElement(L,{selectedQueryTypes:X,setSelectedQueryTypes:Y,form:_,disabled:N,disabledLocation:"edit"===C,onChangeCountry:te})},{id:2,component:g.a.createElement(U,{priorityLevels:Q,loadingFetch:I,disabled:N,setIsChecked:K,isChecked:G})}];return w?g.a.createElement(i["a"],null):g.a.createElement(m["a"],{name:"updateSupportTeamForm",form:_,onFinish:ae,onFinishFailed:ne},g.a.createElement(r["a"],{gutter:[24,24]},e.map((function(e){return g.a.createElement(o["a"],{key:e.id,span:24},e.component)})),g.a.createElement(o["a"],{span:24},re())))};return g.a.createElement(y["a"],null,g.a.createElement("div",{className:V.a.ConfigPage},g.a.createElement(n["a"],{offsetTop:42},g.a.createElement("div",{className:V.a.titlePage},g.a.createElement("p",{className:V.a.titlePage__text},Object(v["b"])({id:"pages.ticketManagement.setupSupportTeam"})))),g.a.createElement("div",{className:V.a.content},ie(),g.a.createElement(r["a"],{gutter:[24,24]},g.a.createElement(o["a"],{sm:24,xl:16},oe()),g.a.createElement(o["a"],{sm:24,xl:8})))))};t["default"]=Object(v["a"])((function(e){var t=e.user.permissions,a=void 0===t?{}:t,n=e.ticketManagement,i=e.loading;return{permissions:a,ticketManagement:n,loadingFetchTypeByID:i.effects["ticketManagement/fetchSettingTicketByID"],loadingUpsertLeaveType:i.effects["ticketManagement/upsertSettingTicket"],loadingFetchPriority:i.effects["ticketManagement/fetchPriorityLevel"]}}))(W)},iTvS:function(e,t,a){"use strict";a("R9oj");var n=a("ECub"),i=a("0Owb"),r=a("q1tI"),o=a.n(r),l=a("9kvl"),c=a("SOgc"),s=a.n(c),m=function(e){var t=e.description,a=void 0===t?Object(l["b"])({id:"app.empty"}):t,r=e.image,c=void 0===r?"":r,m=e.height,d=void 0===m?200:m,u=e.showDescription,p=void 0===u||u;return o.a.createElement("div",{className:s.a.EmptyComponent,style:{height:d}},o.a.createElement(n["a"],Object(i["a"])({description:p?a:null},c?{image:c}:{})))};t["a"]=m},k6th:function(e,t,a){"use strict";a("+L6B");var n=a("2/Rp"),i=a("0Owb"),r=a("PpiC"),o=a("q1tI"),l=a.n(o),c=a("Wjgv"),s=a.n(c),m=["children","width","height","backgroundColor","shape"],d=function(e){var t=e.children,a=e.width,o=void 0===a?"":a,c=e.height,d=void 0===c?42:c,u=e.backgroundColor,p=void 0===u?"#ffa100":u,g=e.shape,v=void 0===g?"circle":g,y=Object(r["a"])(e,m);return l.a.createElement(n["default"],Object(i["a"])({},y,{className:s.a.CustomPrimaryButton,style:{height:d,backgroundColor:p,width:o,borderRadius:"square"===v?5:25}}),t)};t["a"]=d},lyOd:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAGCAYAAAARx7TFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABxSURBVHgBbY2xDYAwDATfsACjUCLRMAobkBRASWipMhIUSGEpTByIFEW4sd5//yat54GZK2u3FdmIB9wogiIySk1LCohmwDJTVTp3Xk3TBlC210cIeA1mIx8oTb4GdhC6CIhXRkgavsY+BX5HqbHObw+S/TP4bunktgAAAABJRU5ErkJggg=="},nOCO:function(e,t,a){e.exports={CountrySelector:"CountrySelector___1iOxS"}},o0Jf:function(e,t,a){e.exports={BasicInfo:"BasicInfo___1p3pz",label:"label___1fzmn",listQueryTypes:"listQueryTypes___3jDg1",nameTag:"nameTag___3dv-T",displayFlex:"displayFlex___1eYni",questionIcon:"questionIcon___aI4Xq",formItem:"formItem___22_PU",InputQueryTypes:"InputQueryTypes___3X2Jv"}},p02a:function(e,t,a){"use strict";a("+L6B");var n=a("2/Rp"),i=a("0Owb"),r=a("PpiC"),o=a("q1tI"),l=a.n(o),c=a("pY2O"),s=a.n(c),m=["children","paddingInline","type"],d=function(e){var t=e.children,a=e.paddingInline,o=void 0===a?25:a,c=e.type,d=void 0===c?1:c,u=Object(r["a"])(e,m);return l.a.createElement("div",{className:1===d?s.a.CustomSecondaryButton:s.a.CustomCancelButton,style:{paddingInline:o}},l.a.createElement(n["default"],Object(i["a"])({},u,{type:"link"}),t))};t["a"]=d},pY2O:function(e,t,a){e.exports={CustomSecondaryButton:"CustomSecondaryButton___3-isq",CustomCancelButton:"CustomCancelButton___bg9bG"}},"riF+":function(e,t,a){e.exports={SLA:"SLA___21O5g",label:"label___2yE9G",container:"container___yj8o2",actions:"actions___2NbMz"}},sPO8:function(e,t,a){e.exports={ConfigPage:"ConfigPage___2Xqj6",titlePage:"titlePage___2T_Xh",titlePage__text:"titlePage__text___2iDdj",titlePage__viewBtn:"titlePage__viewBtn___3GGH7",viewLoading:"viewLoading___3POLR",content:"content___2bTex",header:"header___2BH1b",title:"title___OzTXG",description:"description___2s1O7",bottomBar:"bottomBar___35oo3",describeText:"describeText___UKKO9",bottomBar__button:"bottomBar__button___jpRrv"}}}]);