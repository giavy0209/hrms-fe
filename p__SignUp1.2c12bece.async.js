(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[84],{"/26e":function(e,a,t){e.exports={wrapper:"wrapper___1EXb-",form:"form___1DZhC",fullNameForm:"fullNameForm___7JzZA"}},"1wcP":function(e,a,t){},"2aYR":function(e,a,t){e.exports={EmailExistModal:"EmailExistModal___30D5D",container:"container___3HLmS",successIcon:"successIcon___amJNk",alert:"alert___Sej5S",buttons:"buttons___23xZV",continueBtn:"continueBtn___3VbH1"}},"2qtc":function(e,a,t){"use strict";t("EFp3"),t("1wcP"),t("+L6B")},VgJO:function(e,a,t){"use strict";t.r(a);t("+L6B");var n=t("2/Rp"),i=(t("5NDa"),t("5rEg")),r=t("qLMh"),l=t("9og8"),s=(t("y8nQ"),t("Vl3Y")),c=t("tJVT"),o=t("q1tI"),m=t.n(o),u=t("9kvl"),d=(t("2qtc"),t("kLXV")),p=t("fWQN"),f=t("mtLc"),g=t("yKVA"),b=t("879j"),E=t("2aYR"),v=t.n(E),N=function(e){Object(g["a"])(t,e);var a=Object(b["a"])(t);function t(){return Object(p["a"])(this,t),a.apply(this,arguments)}return Object(f["a"])(t,[{key:"render",value:function(){var e=this.props,a=e.visible,t=e.onContinue,i=void 0===t?function(){}:t,r=e.onLogin,l=void 0===r?function(){}:r;return m.a.createElement(d["a"],{className:v.a.EmailExistModal,destroyOnClose:!0,centered:!0,visible:a,footer:null},m.a.createElement("div",{className:v.a.container},m.a.createElement("p",{className:v.a.alert},"Your email address is registered already"),m.a.createElement("p",null,"If you want too add another company, please login and add new company information."),m.a.createElement("p",null,"If not, please input a new email address."),m.a.createElement("div",{className:v.a.buttons},m.a.createElement(n["default"],{onClick:function(){return i()},className:v.a.continueBtn},"Continue to signup"),m.a.createElement(n["default"],{onClick:function(){return l()}},"Login"))))}}]),t}(o["PureComponent"]),_=t("/26e"),w=t.n(_),j=function(e){var a=s["a"].useForm(),t=Object(c["a"])(a,1),d=t[0],p=e.dispatch,f=e.loadingSignUp,g=Object(o["useState"])(!1),b=Object(c["a"])(g,2),E=b[0],v=b[1],_=Object(o["useState"])(!1),j=Object(c["a"])(_,2),O=j[0],y=j[1],h=Object(o["useState"])(""),I=Object(c["a"])(h,2),C=I[0],F=I[1];m.a.useEffect((function(){O&&d.validateFields()}),[O]);var k=function(e){p&&p({type:"signup/save",payload:{user:e}})},L=function(){var e=Object(l["a"])(Object(r["a"])().mark((function e(a){var t,n,i,l,s,c,o,m,u,d,f;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.email,n=void 0===t?"":t,i=a.firstName,l=void 0===i?"":i,s=a.middleName,c=void 0===s?"":s,o=a.lastName,m=void 0===o?"":o,u={firstName:l,middleName:c,lastName:m,email:n},!p){e.next=8;break}return e.next=5,p({type:"signup/fetchUserInfo",payload:u});case 5:d=e.sent,f=d.statusCode,400===f&&v(!0);case 8:k(u);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),U=function(e,a,t){O?t("Please input new email"):t()},x=function(){y(!0),v(!1)},S=function(){u["e"].push({pathname:"/login",state:{autoFillEmail:C}})},V=function(e){F(e.target.value),y(!1)};return m.a.createElement("div",{className:w.a.wrapper},m.a.createElement("h2",null,Object(u["b"])({id:"page.signUp.signUpHeader"})),m.a.createElement(N,{visible:E,onContinue:x,onLogin:S}),m.a.createElement(s["a"],{className:w.a.form,name:"sign-up",form:d,layout:"vertical",initialValues:{remember:!0},onFinish:L},m.a.createElement(s["a"].Item,{label:Object(u["b"])({id:"page.signUp.enterCompanyAddress"}),name:"email",rules:[{validator:U},{required:!0,message:Object(u["b"])({id:"page.signUp.inputEmailMsg"})},{pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/,message:Object(u["b"])({id:"page.signUp.inputEmailInvalid"})}]},m.a.createElement(i["a"],{onChange:V})),m.a.createElement(s["a"].Item,{className:w.a.fullNameForm,label:"Enter first name",name:"firstName",rules:[{required:!0,message:"Please input your first name!"},{pattern:/^[a-zA-Z ]*$/,message:"First name is invalid"}]},m.a.createElement(i["a"],null)),m.a.createElement(s["a"].Item,{className:w.a.fullNameForm,label:"Enter middle name",name:"middleName",rules:[{pattern:/^[a-zA-Z ]*$/,message:"Middle name is invalid"}]},m.a.createElement(i["a"],null)),m.a.createElement(s["a"].Item,{className:w.a.fullNameForm,label:"Enter last name",name:"lastName",rules:[{required:!0,message:"Please input your last name!"},{pattern:/^[a-zA-Z ]*$/,message:"Last name is invalid"}]},m.a.createElement(i["a"],null)),m.a.createElement(n["default"],{loading:f,type:"primary",htmlType:"submit"},Object(u["b"])({id:"page.signUp.getStarted"}))))};a["default"]=Object(u["a"])((function(e){var a=e.loading,t=e.signup;t=void 0===t?{}:t;var n=t.user,i=void 0===n?{}:n;return{user:i,loadingSignUp:a.effects["signup/fetchUserInfo"]}}))(j)}}]);