(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[66],{"2hoO":function(e,t,a){e.exports=a.p+"static/sent-icon.5ca3edb2.svg"},"65M/":function(e,t,a){e.exports={TemplateDetails:"TemplateDetails___1s4Fs",TemplateDetails_content:"TemplateDetails_content___Umg56"}},"97B3":function(e,t,a){e.exports={EditForm:"EditForm___1fpSZ",buttonArea:"buttonArea___3xZSP"}},"9P3L":function(e,t,a){"use strict";a("2qtc");var n=a("kLXV"),l=a("tJVT"),o=a("q1tI"),i=a.n(o),r=a("jMIZ"),c=a.n(r),m=function(e){var t=Object(o["useState"])(!1),a=Object(l["a"])(t,2),r=a[0],m=a[1],s=e.open,d=e.closeModal,p=e.width,u=void 0===p?520:p,_=e.content,f=e.docmail,v=void 0===f?0:f,b=e.type,g=void 0===b?1:b;Object(o["useEffect"])((function(){m(!!s)}),[s]);var h=function(){m(!1),d()},E=function(){return 2===g?"".concat(c.a.CustomModal2," ").concat(c.a.CustomModal):0===v?c.a.CustomModal:"".concat(c.a.CustomModal," ").concat(c.a.SendMailForm)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(n["a"],{className:E(),title:null,visible:r,width:u,centered:!0,onCancel:h,destroyOnClose:!0,footer:null},i.a.createElement("div",{className:c.a.body},r&&_)))};t["a"]=m},"9Q5O":function(e,t,a){"use strict";a.r(t);a("14J3");var n,l,o,i,r,c,m,s,d,p,u,_,f=a("BMrR"),v=(a("jCWc"),a("kPKH")),b=a("fWQN"),g=a("mtLc"),h=a("yKVA"),E=a("879j"),T=a("q1tI"),y=a.n(T),C=a("LMbU"),N=a("55Ip"),D=a("IPlR"),j=a.n(D),M=a("NDkH"),O=a.n(M),F=function(e){Object(h["a"])(a,e);var t=Object(E["a"])(a);function a(){return Object(b["a"])(this,a),t.apply(this,arguments)}return Object(g["a"])(a,[{key:"render",value:function(){return y.a.createElement("div",{className:O.a.TemplateDetailsHeader},y.a.createElement(N["a"],{to:{pathname:"/offboarding/settings/documents-templates"}},y.a.createElement("img",{src:j.a,alt:"back icon"})),y.a.createElement("p",null,"Offer letter template [PC Technician]"))}}]),a}(T["PureComponent"]),x=F,k=(a("+L6B"),a("2/Rp")),S=(a("y8nQ"),a("Vl3Y")),I=(a("5NDa"),a("5rEg")),w=(a("cWXX"),a("/ezw")),A=a("9kvl"),R=a("9P3L"),P=a("jrin"),L=a("UYf5"),z=a("Knpq"),B=a("97B3"),V=a.n(B),q=a("glQo"),H=(n=Object(A["a"])((function(e){var t=e.employeeSetting,a=e.loading;return{employeeSetting:t,loading:a.effects["employeeSetting/addCustomTemplate"]}})),l=Reflect.metadata("design:type",Function),o=Reflect.metadata("design:paramtypes",[void 0]),n(i=l(i=o(i=function(e){Object(h["a"])(a,e);var t=Object(E["a"])(a);function a(e){var n;Object(b["a"])(this,a),n=t.call(this,e),n.handleSubmit=function(){var e=n.state.editorContent,t=n.props,a=t.currentTemplate,l=a.title,o=a.settings,i=void 0===o?[]:o,r=t.dispatch,c=t.onClose,m=void 0===c?function(){}:c;r({type:"employeeSetting/addCustomTemplate",payload:{html:e,settings:i,type:"OFF_BOARDING",title:l}}).then((function(e){200===e.statusCode&&(m(),A["e"].push({pathname:"/offboarding/settings/documents-templates"}))}))},n.handleEditorChange=function(e){n.setState({editorContent:e})},n.beforeUpload=function(e){var t=n.imageType(e.name),a=e.size/1024/1024<5;return t&&a},n.uploadImageHandle=function(e,t,a){var l=n.props.dispatch,o=e.blob(),i=n.beforeUpload(o);if(i){var r=l({type:"upload/uploadFirebase",payload:{file:o,typeFile:q["d"].TYPE_FILE.EMPLOYEE_PROFILE}});if(r){var c=r.length>0?r[0]:{};t(c.url)}}else a("Invalid file. Only images to be accepted and must smaller than 5MB!")},n.mapValues={};var l=n.props.currentTemplate;return l.settings.map((function(e){return Object.assign(n.mapValues,Object(P["a"])({},e.key,e.description))})),n.state={editorContent:l.htmlContent},n}return Object(g["a"])(a,[{key:"render",value:function(){var e=this.props,t=e.currentTemplate.settings,a=void 0===t?[]:t,n=e.currentTemplate,l=e.loading;return y.a.createElement("div",{className:V.a.EditForm},y.a.createElement(L["a"],{initialValue:n.htmlContent,apiKey:z["a"],init:{height:"100%",menubar:!0,plugins:["save advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks fullscreen","insertdatetime media table paste help wordcount variable"],toolbar:"undo redo formatselect bold italic backcolor  alignleft aligncenter alignright alignjustify bullist numlist outdent indent removeformat help variable",content_style:"body { margin: 1rem; max-width: 900px; }",setup:function(e){window.tester=e,e.ui.registry.addMenuButton("variable",{text:"Insert auto-text",fetch:function(t){var n=a.map((function(t){return{type:"menuitem",text:t.description,onAction:function(){e.plugins.variable.addVariable(t.key)}}}));t(n)}})},variable_mapper:this.mapValues,variable_style:"background-color: #ffa100; color: #fff; border-radius: 4px; padding: 4px;",external_plugins:{variable:window.location.href.replace(A["e"].location.pathname,"/tinymce/plugins/auto_text/plugin.js")},images_upload_handler:this.uploadImageHandle},onEditorChange:this.handleEditorChange,outputFormat:"raw"}),y.a.createElement("div",{className:V.a.buttonArea},y.a.createElement(k["default"],{variant:"contained",onClick:this.handleSubmit,loading:l},"Save")))}}]),a}(T["Component"]))||i)||i)||i),Q=H,Y=a("vFYf"),K=a.n(Y),X=a("2hoO"),J=a.n(X),W=a("RzNn"),U=a.n(W),Z=(r=Object(A["a"])((function(e){var t=e.loading,a=e.employeeSetting,n=a.currentTemplate;n=void 0===n?{}:n;var l=n.title,o=void 0===l?"":l,i=n.htmlContent,r=void 0===i?"":i,c=n.thumbnail,m=void 0===c?"":c,s=a.newTemplateData,d=s.settings,p=void 0===d?[]:d,u=s.fullname,_=void 0===u?"":u,f=s.signature,v=void 0===f?"":f;return{loadingAddCustomTemplate:t.effects["employeeSetting/addCustomTemplate"],settings:p,fullname:_,thumbnail:m,signature:v,title:o,htmlContent:r}})),c=Reflect.metadata("design:type",Function),m=Reflect.metadata("design:paramtypes",[void 0]),r(s=c(s=m(s=function(e){Object(h["a"])(a,e);var t=Object(E["a"])(a);function a(e){var n;return Object(b["a"])(this,a),n=t.call(this,e),n.checkSubmit=function(){var e=n.props,t=e.dispatch,a=e.settings,l=e.fullname,o=e.signature,i=e.title,r=a.filter((function(e){return null!==e&&void 0!==e})),c=r.map((function(e){return""!==e.value})).every((function(e){return!0===e}));t(!0===c&&""!==i&&""!==l&&""!==o?{type:"employeeSetting/save",payload:{isAbleToSubmit:!0}}:{type:"employeeSetting/save",payload:{isAbleToSubmit:!1}})},n.onNext=function(){var e=n.props,t=e.dispatch,a=e.onNext,l=void 0===a?{}:a,o=e.settings,i=e.fullname,r=e.signature,c=e.title,m=e.htmlContent,s=e.thumbnail,d=o.filter((function(e){return null!==e&&void 0!==e}));t({type:"employeeSetting/addCustomTemplate",payload:{title:c,html:m,settings:d,fullname:i,signature:r,thumbnail:s}}).then((function(){l()}))},n._renderModal=function(){var e=n.state.modalContent,t=n.props,a=t.content,l=void 0===a?{}:a,o=t.loadingAddCustomTemplate;return y.a.createElement(y.a.Fragment,null,y.a.createElement("img",{src:e[l].icon,alt:"icon"}),y.a.createElement("div",{className:U.a.ModalContent_title},e[l].title),y.a.createElement("div",{className:U.a.ModalContent_content},e[l].content),0===l?y.a.createElement(k["default"],{loading:o,onClick:n.onNext,type:"primary"},e[l].button):y.a.createElement(N["a"],{to:{pathname:"/offboarding/settings/documents-templates"}},y.a.createElement(k["default"],{type:"primary"},e[l].button)))},n.state={isAbleToSubmit:!1,modalContent:[{icon:K.a,title:Object(A["b"])({id:"component.modalContent.title1"}),content:Object(A["b"])({id:"component.modalContent.content"}),button:Object(A["b"])({id:"component.modalContent.buttonApproval"})},{icon:J.a,title:Object(A["b"])({id:"component.modalContent.title2"}),content:"",button:Object(A["b"])({id:"component.modalContent.buttonOK"})}]},n}return Object(g["a"])(a,[{key:"render",value:function(){return y.a.createElement("div",{className:U.a.ModalContent},this._renderModal())}}]),a}(T["Component"]))||s)||s)||s),G=Z,$=a("bjY6"),ee=a.n($),te=a("dC9/"),ae=a.n(te),ne=a("kza+"),le=a.n(ne),oe=(d=Object(A["a"])((function(e){var t=e.loading,a=e.employeeSetting.currentTemplate,n=void 0===a?{}:a;return{currentTemplate:n,loadingTemplate:t.effects["employeeSetting/fetchTemplateById"]||t.effects["employeeSetting/addCustomTemplate"]}})),p=Reflect.metadata("design:type",Function),u=Reflect.metadata("design:paramtypes",[void 0]),d(_=p(_=u(_=function(e){Object(h["a"])(a,e);var t=Object(E["a"])(a);function a(e){var n;return Object(b["a"])(this,a),n=t.call(this,e),n.componentDidMount=function(){var e=n.props,t=e.dispatch,a=e.templateId;t({type:"employeeSetting/fetchTemplateById",payload:{id:a}})},n.onNext=function(){var e=n.state.currentModal;n.setState({currentModal:e+1,openModal:3!==e})},n.onClickEdit=function(){n.setState({openModal:!0,currentModal:1})},n.closeModal=function(){n.setState({openModal:!1})},n.handleChangeInput=function(e){var t=n.props.dispatch,a=e.target,l=a.value;t({type:"employeeSetting/saveCurrentTemplate",payload:{title:l}})},n._renderModal=function(){var e=n.state,t=e.currentModal,a=e.openModal,l=n.props.currentTemplate;switch(t){case 1:return y.a.createElement(R["a"],{open:a,closeModal:n.closeModal,width:"90%",content:y.a.createElement(Q,{currentTemplate:l,onNext:n.onNext,onClose:n.closeModal})});case 2:return y.a.createElement(R["a"],{open:a,closeModal:n.closeModal,content:y.a.createElement(G,{onNext:n.onNext,content:0})});case 3:return y.a.createElement(R["a"],{open:a,closeModal:n.closeModal,content:y.a.createElement(G,{onNext:n.onNext,content:1})});default:return null}},n._renderLoading=function(){var e=n.props.loadingTemplate;return y.a.createElement(w["a"],{loading:e,active:!0})},n.state={openModal:!1,currentModal:1},n}return Object(g["a"])(a,[{key:"render",value:function(){var e=this.props,t=e.currentTemplate,a=e.loadingTemplate,n=t.title,l=void 0===n?"":n,o=t.htmlContent,i=void 0===o?"":o,r=t.updatedAt,c=void 0===r?"":r,m=new Date(c);return y.a.createElement("div",{className:le.a.TemplateDetailsForm},void 0!==t&&y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:le.a.TemplateDetailsForm_header},y.a.createElement(S["a"],null,y.a.createElement(S["a"].Item,{label:Object(A["b"])({id:"component.templateDetails.inputName"}),name:"templateTitle",required:!1,rules:[{required:!0,message:"Please input template title!"}]},y.a.createElement(f["a"],{gutter:[24,0]},y.a.createElement(v["a"],{span:16},y.a.createElement(I["a"],{value:l,onChange:this.handleChangeInput})),y.a.createElement(v["a"],{span:8},y.a.createElement(I["a"],{defaultValue:"Terralogic.png"})))))),y.a.createElement("div",{className:le.a.TemplateDetailsForm_template},y.a.createElement("div",{className:le.a.TemplateDetailsForm_template_header},y.a.createElement("img",{src:ee.a,alt:"brand-logo"}),y.a.createElement("p",null,m.toLocaleDateString())),y.a.createElement("hr",null),y.a.createElement("div",{className:le.a.TemplateDetailsForm_template_content},a?this._renderLoading():y.a.createElement("span",{dangerouslySetInnerHTML:{__html:i}})),y.a.createElement("div",{className:le.a.TemplateDetailsForm_template_button}," ",y.a.createElement(k["default"],{type:"primary",onClick:this.onClickEdit,className:le.a.TemplateDetailsForm_template_button_primary},y.a.createElement("img",{src:ae.a,alt:"form-outline"}),"Edit")))),this._renderModal())}}]),a}(T["PureComponent"]))||_)||_)||_),ie=oe,re=(a("DYRE"),a("zeV3")),ce=a("FQNu"),me=a.n(ce),se=a("FmgA"),de=a.n(se),pe=a("Fs6C"),ue=a.n(pe),_e=function(e){Object(h["a"])(a,e);var t=Object(E["a"])(a);function a(){return Object(b["a"])(this,a),t.apply(this,arguments)}return Object(g["a"])(a,[{key:"render",value:function(){return y.a.createElement("div",{className:ue.a.TemplateDetailsNote},y.a.createElement("div",{className:ue.a.TemplateDetailsNote_header},y.a.createElement(re["b"],{size:"middle"},y.a.createElement("div",{className:ue.a.TemplateDetailsNote_header_icons},y.a.createElement("div",{className:ue.a.outsideCircle}),y.a.createElement("div",{className:ue.a.insideCircle}),y.a.createElement("img",{src:me.a,alt:"icon"}))),y.a.createElement("div",{className:ue.a.TemplateDetailsNote_header_title},Object(A["b"])({id:"component.templateDetailsNote.title"}))),y.a.createElement("div",{className:ue.a.TemplateDetailsNote_list},y.a.createElement("div",{className:ue.a.TemplateDetailsNote_list_note},y.a.createElement("img",{src:de.a,alt:"icon"}),y.a.createElement("div",{className:ue.a.content},Object(A["b"])({id:"component.templateDetailsNote.content1"}))),y.a.createElement("div",{className:ue.a.TemplateDetailsNote_list_note},y.a.createElement("img",{src:de.a,alt:"icon"}),y.a.createElement("div",{className:ue.a.content},Object(A["b"])({id:"component.templateDetailsNote.content2"})))))}}]),a}(T["PureComponent"]),fe=_e,ve=a("65M/"),be=a.n(ve),ge=function(e){Object(h["a"])(a,e);var t=Object(E["a"])(a);function a(){return Object(b["a"])(this,a),t.apply(this,arguments)}return Object(g["a"])(a,[{key:"render",value:function(){var e=this.props.match.params.templateId;return y.a.createElement(C["a"],null,y.a.createElement("div",{className:be.a.TemplateDetails},y.a.createElement(x,null),y.a.createElement("div",{className:be.a.TemplateDetails_content},y.a.createElement(f["a"],{gutter:[24,24]},y.a.createElement(v["a"],{xs:24,sm:24,md:24,lg:17,xl:17},y.a.createElement(ie,{templateId:e})),y.a.createElement(v["a"],{xs:24,sm:24,md:24,lg:7,xl:7},y.a.createElement(fe,null))))))}}]),a}(T["PureComponent"]);t["default"]=ge},FQNu:function(e,t,a){e.exports=a.p+"static/ideaIcon.7ae610b9.svg"},FmgA:function(e,t,a){e.exports=a.p+"static/checkIcon.f818b0c0.svg"},Fs6C:function(e,t,a){e.exports={TemplateDetailsNote:"TemplateDetailsNote___1bQQT",TemplateDetailsNote_list:"TemplateDetailsNote_list___2t-x4",TemplateDetailsNote_list_note:"TemplateDetailsNote_list_note___3nDFX",content:"content___1mwei",TemplateDetailsNote_header:"TemplateDetailsNote_header___3yAas",TemplateDetailsNote_header_title:"TemplateDetailsNote_header_title___jI8yG",TemplateDetailsNote_header_icons:"TemplateDetailsNote_header_icons___3R2k_",outsideCircle:"outsideCircle___kqdvW",insideCircle:"insideCircle___3h8XG"}},IPlR:function(e,t,a){e.exports=a.p+"static/blueBackIcon.f788d21f.svg"},Knpq:function(e,t,a){"use strict";var n="edk8sdg4xfadi42jszlvvsld5lez89panuynv8ykp6ki0j4e";t["a"]=n},NDkH:function(e,t,a){e.exports={TemplateDetailsHeader:"TemplateDetailsHeader___1K_ID"}},RzNn:function(e,t,a){e.exports={ModalContent:"ModalContent___2rCWe",ModalContent_title:"ModalContent_title___3LEbm",ModalContent_content:"ModalContent_content___3umTg"}},bjY6:function(e,t,a){e.exports=a.p+"static/brand-logo.037bab17.svg"},"dC9/":function(e,t,a){e.exports=a.p+"static/form-outlined.45ebeedc.svg"},jMIZ:function(e,t,a){e.exports={SendMailForm:"SendMailForm___2N0KW",CustomModal:"CustomModal___pJ6JX",CustomModal2:"CustomModal2___1urrq"}},"kza+":function(e,t,a){e.exports={TemplateDetailsForm:"TemplateDetailsForm___3qjjb",TemplateDetailsForm_template:"TemplateDetailsForm_template___t7CzT",TemplateDetailsForm_template_button_primary:"TemplateDetailsForm_template_button_primary___2OSC_",TemplateDetailsForm_template_button:"TemplateDetailsForm_template_button___QwF3H",TemplateDetailsForm_template_content:"TemplateDetailsForm_template_content____kXni",TemplateDetailsForm_template_header:"TemplateDetailsForm_template_header___30ObB"}},vFYf:function(e,t,a){e.exports=a.p+"static/offer-icon.c3ddaa0b.svg"}}]);